Leetcode amazon mock interview

coding approach:
- clarify requirements, edge cases, input scale.
- observe small examples to get clear the approach and understand the problem correctly
- offer brute force and complexity
- try optimized solution.
- think out loud, and explain the thinking process.
- try to use familiar patterns 
- understand most data structures.
- explain language specific if interviwer is not familiar with it.
- demonstate the analye, problem solving and technical skills.
- make sure to not stuck on one approach, think wide!!!
- explain complexity and approach.

array: 
- sort? greedy? binary search? dfs? bfs? 
- divide and conquer?
subproblem: recursive, backtracking? dp?
- hashmap
- tree
- heap





high frequency amazon problems
must clear:
1. critical connections in a network
2. LRU cache
3. LFU cache
4. word search II. (trie)
5. word break II (dp+backtracking)
6. reorganize string (heap)
7. sell diminishing valued colored balls
8. jump game II (bfs like algorithm, but using queue will TLE.)
9. shortest path in a grid with obstacles elimination (3 variable dfs)
- median of two sorted arrays
- reverse nodes in k-Group



phone :
flood fill: dfs
insufficient nodes in root to leaf path, tree
validate binary search tree: tree
add two numbers: linked list.
product of array except self: array
valid parentheses: string, stack
min stack: design, stack
group anagrams: hashmap
first unique character in a string: hashmap
reverse linked list: linked list
search in rotated sorted array: binary search
two sum less than K, two pointer
132 pattern, stack
analyze user website visit pattern, hashmap
search suggestion system, trie
permutations greedy
implement trie, trie
design parking system, design
count number of teams, binary search
high five, pq.
boundary of binary tree. tree
longest substring without repeating characters: sliding window
populating next right pointers in each node: tree
remove vowels from a string: 
design an expression tree with evaluate function ***
reorder data in log files, hashmap
sum of nodes with even valued grandparent: tree
the maze II: dijkstra *** (use 1d dist matrix)
min cost to merge stones: dp **** 
(not easy).


online assessment
moving average from data stream: sliding window
number of equivalent domino pairs: 
two sum IV BST: 
greatest common divisor of strings
rectangle overlap
partition labels
two sum: hashmap
prison cells after n days: hashmap
most common word: hashmap
cutoff trees for golf event: bfs
reverse string II:
critical connections in network: union find.
diet plan performance
subtree of another tree: tree
rotting oranges- bfs
spiral matrix II: 
rank transform of an array
two sum BST
relative sort array
number of dice rolls with target sum: dp.
find words that can be formed by characters

onsite
course schedule: bfs
course schedule II *** bfs.
binary tree max path sum
game of life
shortest path in binary matrix
path with max min value. binary search
missing element in sorted array
uncrossed lines: dp
number of submatrices that sum to target: dp.
best time to buy and sell stock: dp
binary tree zigzag level order traversal: tree
number of islands: dfs
LRU cache: design, hashmap, list
symmetric tree: tree
snakes and ladders: bfs
word break: dp 
word break II: dp
roman to integer
lowest common ancestor of a binary tree
word ladder: bfs
find median from data stream: pq
kids with the greatest number of candies
min knight moves: bfs
max number of non-overlapping substrings: **** (hard, we need find all char's shortest ranges and then find the longest non-overlapped interval. Extending the intervals is the key of this problem)
average of levels in binary tree
vowel spell checker
k-similar strings: bfs.
design parking system
delete leaves with a given value
build binary expression tree from infix expression ***
next greater element II
design hit counter
frog jump, dp
shortest path with alternating colors: dfs
construct binary tree from inorder and postorder traversal
min window subsequence: sliding window
count negative numbers in a sorted matrix
balance a binary search tree.
allocate mailboxes: dp
last stone weight
last stone weight II dp
time based key-value store: hashmap
slowest key
find k-length substrings with no repeated characters
min difficulty of a job schedule: dp
replace elements with greatest element on right side
first unique number
max sum BST in binary tree

Amazon high frequency:

1119	Remove Vowels from a String 90.5%	Easy	
1480	Running Sum of 1d Array	89.1%	Easy	
1603	Design Parking System	86.4%	Easy	
1365	How Many Numbers Are Smaller Than the Current Number	86.0%	Easy	
1313	Decompress Run-Length Encoded List	85.4%	Easy	
1086	High Five 78.0%	Easy	
1351	Count Negative Numbers in a Sorted Matrix	75.9%	Easy	
617	Merge Two Binary Trees	75.3%	Easy	
1299 Replace Elements with Greatest Element on Right Side	74.6%	Easy	
346	Moving Average from Data Stream 73.2%	Easy	
359	Logger Rate Limiter 72.2%	Easy	
977	Squares of a Sorted Array	72.1%	Easy	
557	Reverse Words in a String III	71.8%	Easy	
1022 Sum of Root To Leaf Binary Numbers	71.5%	Easy	
1047 Remove All Adjacent Duplicates In String	70.7%	Easy	
1710 Maximum Units on a Truck	70.6%	Easy	
344	Reverse String	70.3%	Easy	
1002 Find Common Characters	68.6%	Easy	
104	Maximum Depth of Binary Tree	68.0%	Easy	
1160 Find Words That Can Be Formed by Characters	67.9%	Easy	
509	Fibonacci Number	67.4%	Easy	
1114 Print in Order	67.1%	Easy	
226	Invert Binary Tree	66.9%	Easy	
682	Baseball Game	66.8%	Easy	
136	Single Number	66.5%	Easy	
1025 Divisor Game	66.2%	Easy	
496	Next Greater Element I	65.5%	Easy	 *
206	Reverse Linked List	65.2%	Easy	
872	Leaf-Similar Trees	64.6%	Easy	
884	Uncommon Words from Two Sentences	64.1%	Easy	
706	Design HashMap	62.8%	Easy	
1099 Two Sum Less Than K 60.8%	Easy	
108	Convert Sorted Array to Binary Search Tree	60.3%	Easy	
169	Majority Element	60.0%	Easy	*
1629 Slowest Key	59.2%	Easy	
242	Valid Anagram	58.6%	Easy	
122	Best Time to Buy and Sell Stock II	58.5%	Easy	
283	Move Zeroes	58.5%	Easy	
258	Add Digits	58.5%	Easy	
1331 Rank Transform of an Array	57.6%	Easy	
13	Roman to Integer	56.5%	Easy	
448	Find All Numbers Disappeared in an Array	56.1%	Easy	*
21	Merge Two Sorted Lists	56.0%	Easy	
733	Flood Fill	55.9%	Easy	
167	Two Sum II - Input array is sorted	55.6%	Easy	
252	Meeting Rooms 55.4%	Easy	
1496	Path Crossing	55.3%	Easy	*
107	Binary Tree Level Order Traversal II	55.1%	Easy	
1539 Kth Missing Positive Number	55.1%	Easy	*
118	Pascal's Triangle	54.7%	Easy	
937	Reorder Data in Log Files	54.4%	Easy	
100	Same Tree	54.1%	Easy	
704	Binary Search	54.0%	Easy	
783	Minimum Distance Between BST Nodes	53.9%	Easy	
387	First Unique Character in a String	53.8%	Easy	
268	Missing Number	53.8%	Easy	
257	Binary Tree Paths	53.5%	Easy	
383	Ransom Note	53.3%	Easy	
485	Max Consecutive Ones	53.0%	Easy	
993	Cousins in Binary Tree	52.3%	Easy	
953	Verifying an Alien Dictionary	52.2%	Easy	
232	Implement Queue using Stacks	52.1%	Easy	
350	Intersection of Two Arrays II	52.0%	Easy	
235	Lowest Common Ancestor of a Binary Search Tree	51.7%	Easy	*
121	Best Time to Buy and Sell Stock	51.5%	Easy	
1071 Greatest Common Divisor of Strings	51.3%	Easy	
202	Happy Number	51.2%	Easy	
746	Min Cost Climbing Stairs	50.9%	Easy	
703	Kth Largest Element in a Stream	50.7%	Easy	*
270	Closest Binary Search Tree Value 49.9%	Easy	
997	Find the Town Judge	49.8%	Easy	*
796	Rotate String	49.3%	Easy	
27	Remove Element	49.2%	Easy	
543	Diameter of Binary Tree	49.1%	Easy	
541	Reverse String II	49.1%	Easy	
70	Climbing Stairs	48.6%	Easy	
415	Add Strings	48.2%	Easy	
101	Symmetric Tree	48.0%	Easy	
53	Maximum Subarray	47.7%	Easy	
844	Backspace String Compare	47.0%	Easy	
67	Add Binary	46.9%	Easy	
628	Maximum Product of Three Numbers	46.9%	Easy	
1360 Number of Days Between Two Dates	46.8%	Easy	
83	Remove Duplicates from Sorted List	46.5%	Easy	
26	Remove Duplicates from Sorted Array	46.5%	Easy	
1	Two Sum	46.4%	Easy	
155	Min Stack	46.3%	Easy	
674	Longest Continuous Increasing Subsequence	46.0%	Easy	*
819	 Most Common Word	45.5%	Easy	
196	Delete Duplicate Emails	45.0%	Easy	*
345	Reverse Vowels of a String	45.0%	Easy	
110	Balanced Binary Tree	44.7%	Easy	
572	Subtree of Another Tree	44.5%	Easy	*
459	Repeated Substring Pattern	43.3%	Easy *	
160	Intersection of Two Linked Lists	43.1%	Easy	
716	Max Stack 43.0%	Easy	
141	Linked List Cycle	42.8%	Easy	
35	Search Insert Position	42.8%	Easy	
112	Path Sum	42.4%	Easy	
66	Plus One	42.3%	Easy	
88	Merge Sorted Array	40.7%	Easy	
205	Isomorphic Strings	40.5%	Easy	
234	Palindrome Linked List	40.4%	Easy	
20	Valid Parentheses	39.8%	Easy	
203	Remove Linked List Elements	39.2%	Easy	
219	Contains Duplicate II	38.6%	Easy	*
290	Word Pattern	38.3%	Easy	
125	Valid Palindrome	38.2%	Easy	
14	Longest Common Prefix	36.1%	Easy	
28	Implement strStr()	35.2%	Easy	
69	Sqrt(x)	35.0%	Easy	*
204	Count Primes	32.2%	Easy	*
163	Missing Ranges 26.8%	Easy	
7	Reverse Integer	25.9%	Easy	
1315	Sum of Nodes with Even-Valued Grandparent	84.2%	Medium	
535	Encode and Decode TinyURL	80.9%	Medium	*
1628 Design an Expression Tree With Evaluate Function 80.6%	Medium	*
1008	Construct Binary Search Tree from Preorder Traversal	78.8%	Medium	
797	All Paths From Source to Target	78.5%	Medium	
1395 Count Number of Teams	78.3%	Medium	
763	Partition Labels	78.0%	Medium	
1305	All Elements in Two Binary Search Trees	77.8%	Medium	
339	Nested List Weight Sum 76.3%	Medium	*
1381	Design a Stack With Increment Operation	76.1%	Medium	
950	Reveal Cards In Increasing Order	75.4%	Medium	
1325 Delete Leaves With a Given Value	73.7%	Medium	
861	Score After Flipping Matrix	73.6%	Medium	*
1100	Find K-Length Substrings With No Repeated Characters 73.3%	Medium	
1277	Count Square Submatrices with All Ones	72.9%	Medium	*
814	Binary Tree Pruning	72.6%	Medium	
1472 Design Browser History	71.2%	Medium	
1740	Find Distance in a Binary Tree 70.8%	Medium	
1448	Count Good Nodes in Binary Tree	70.6%	Medium	*
338	Counting Bits	70.4%	Medium	
979	Distribute Coins in Binary Tree	69.7%	Medium	*
1026 Maximum Difference Between Node and Ancestor	69.4%	Medium	
442	Find All Duplicates in an Array	68.9%	Medium	*
406	Queue Reconstruction by Height	68.3%	Medium	
986	Interval List Intersections	68.3%	Medium	*
1110 Delete Nodes And Return Forest	67.7%	Medium	
889	Construct Binary Tree from Preorder and Postorder Traversal	67.6%	Medium	
1130 Minimum Cost Tree From Leaf Values	67.3%	Medium *	
1043 Partition Array for Maximum Sum	66.9%	Medium	*
46	Permutations	66.5%	Medium	
841	Keys and Rooms	65.4%	Medium	
626	Exchange Seats	65.4%	Medium	
22	Generate Parentheses	65.2%	Medium	
362	Design Hit Counter 65.2%	Medium	
78	Subsets	65.0%	Medium	*
695	Max Area of Island	64.7%	Medium	
973	K Closest Points to Origin	64.6%	Medium	
1236 Web Crawler 64.6%	Medium	*
1268	Search Suggestions System	64.6%	Medium	
739	Daily Temperatures	64.5%	Medium	
912	Sort an Array	64.5%	Medium	
1167 Minimum Cost to Connect Sticks 64.4%	Medium	*
1375	Bulb Switcher III	64.2%	Medium	
1190	Reverse Substrings Between Each Pair of Parentheses	64.1%	Medium	*
311	Sparse Matrix Multiplication 63.9%	Medium	
1249	Minimum Remove to Make Valid Parentheses	63.7%	Medium	
1120	Maximum Average Subtree 63.6%	Medium	
1258	Synonymous Sentences 63.3%	Medium	
230	Kth Smallest Element in a BST	62.5%	Medium	*
347	Top K Frequent Elements	62.4%	Medium	
856	Score of Parentheses	62.4%	Medium	*
1254 Number of Closed Islands	61.6%	Medium	
238	Product of Array Except Self	61.4%	Medium	
901	Online Stock Span	61.3%	Medium	
529	Minesweeper	61.1%	Medium	
426	Convert Binary Search Tree to Sorted Doubly Linked List 61.1%	Medium	*
609	Find Duplicate File in System	61.0%	Medium	
1004 Max Consecutive Ones III	60.7%	Medium	*
547	Number of Provinces	60.4%	Medium	
216	Combination Sum III	60.2%	Medium	*
173	Binary Search Tree Iterator	60.0%	Medium	*
48	Rotate Image	59.8%	Medium	
1011 Capacity To Ship Packages Within D Days	59.7%	Medium	
1135 Connecting Cities With Minimum Cost 59.3%	Medium	
49	Group Anagrams	59.2%	Medium	
39	Combination Sum	59.1%	Medium	*
684	Redundant Connection	58.9%	Medium	*
1031 Maximum Sum of Two Non-Overlapping Subarrays	58.9%	Medium	
1143 Longest Common Subsequence	58.7%	Medium	
1166 Design File System 58.5%	Medium	
503	Next Greater Element II	58.4%	Medium	*
215	Kth Largest Element in an Array	58.3%	Medium	*
289	Game of Life	58.1%	Medium	
540	Single Element in a Sorted Array	57.9%	Medium	
694	Number of Distinct Islands 57.8%	Medium	
863	All Nodes Distance K in Binary Tree	57.8%	Medium	*
323	Number of Connected Components in an Undirected Graph 57.7%	Medium	
1057	Campus Bikes 57.7%	Medium	*
1209	Remove All Adjacent Duplicates in String II	57.6%	Medium	
145	Binary Tree Postorder Traversal	57.5%	Medium	
287	Find the Duplicate Number	57.5%	Medium	
144	Binary Tree Preorder Traversal	57.4%	Medium	
1291 Sequential Digits	57.4%	Medium	
430	Flatten a Multilevel Doubly Linked List	56.8%	Medium	
102	Binary Tree Level Order Traversal	56.5%	Medium	
286	Walls and Gates 56.4%	Medium	
199	Binary Tree Right Side View	56.3%	Medium	
445	Add Two Numbers II	56.2%	Medium	
12	Integer to Roman	56.1%	Medium	
378	Kth Smallest Element in a Sorted Matrix	56.1%	Medium	*
64	Minimum Path Sum	56.1%	Medium	
714	Best Time to Buy and Sell Stock with Transaction Fee	56.0%	Medium	
62	Unique Paths	55.9%	Medium	
1481 Least Number of Unique Integers after K Removals	55.8%	Medium	*
348	Design Tic-Tac-Toe 55.5%	Medium	
516	Longest Palindromic Subsequence	55.3%	Medium	
641	Design Circular Deque	55.0%	Medium	
1041 Robot Bounded In Circle	55.0%	Medium	*
454	4Sum II	54.6%	Medium	
341	Flatten Nested List Iterator	54.5%	Medium	*
1647 Minimum Deletions to Make Character Frequencies Unique	54.5%	Medium	*
96	Unique Binary Search Trees	54.4%	Medium	
636	Exclusive Time of Functions	54.3%	Medium	
399	Evaluate Division	54.3%	Medium	
1229 Meeting Scheduler 54.3%	Medium	*
449	Serialize and Deserialize BST	54.0%	Medium	*
384	Shuffle an Array	53.9%	Medium	
137	Single Number II 53.8%	Medium	*
729	My Calendar I	53.3%	Medium	
926	Flip String to Monotone Increasing	53.2%	Medium	*
692	Top K Frequent Words	53.0%	Medium	
24	Swap Nodes in Pairs	53.0%	Medium	
646	Maximum Length of Pair Chain	52.9%	Medium	*
752	Open the Lock	52.8%	Medium	
11	Container With Most Water	52.7%	Medium	*
490	The Maze 52.7%	Medium	
394	Decode String	52.6%	Medium	
652	Find Duplicate Subtrees	52.4%	Medium	*
208	Implement Trie (Prefix Tree)	51.9%	Medium	
131	Palindrome Partitioning	51.9%	Medium	*
1615 Maximal Network Rank	51.9%	Medium	*
114	Flatten Binary Tree to Linked List	51.8%	Medium	*
337	House Robber III	51.8%	Medium	
105	Construct Binary Tree from Preorder and Inorder Traversal	51.7%	Medium	
518	Coin Change 2	51.7%	Medium	*
621	Task Scheduler	51.7%	Medium	
721	Accounts Merge	51.7%	Medium	
129	Sum Root to Leaf Numbers	50.8%	Medium	
36	Valid Sudoku	50.5%	Medium	
1102 Path With Maximum Minimum Value 50.4%	Medium	
498	Diagonal Traverse	50.2%	Medium	*
1010 Pairs of Songs With Total Durations Divisible by 60	50.2%	Medium	
109	Convert Sorted List to Binary Search Tree	50.1%	Medium	
40	Combination Sum II	50.1%	Medium	*
767	Reorganize String	50.1%	Medium	
688	Knight Probability in Chessboard	50.1%	Medium	
103	Binary Tree Zigzag Level Order Traversal	50.0%	Medium	
650	2 Keys Keyboard	50.0%	Medium	*
994	Rotting Oranges	49.6%	Medium	
1429 First Unique Number 49.5%	Medium	
1239	Maximum Length of a Concatenated String with Unique Characters	49.5%	Medium	*
75	Sort Colors	49.3%	Medium	
47	Permutations II	49.3%	Medium	*
200	 Number of Islands	49.0%	Medium	
113	Path Sum II	49.0%	Medium	
17	Letter Combinations of a Phone Number	49.0%	Medium	
116	Populating Next Right Pointers in Each Node	49.0%	Medium	
279	Perfect Squares	48.9%	Medium	
881	Boats to Save People	48.9%	Medium	
380	Insert Delete GetRandom O(1)	48.8%	Medium	
90	Subsets II	48.8%	Medium	*
236	Lowest Common Ancestor of a Binary Tree	48.6%	Medium	
309	Best Time to Buy and Sell Stock with Cooldown	48.1%	Medium	*
437	Path Sum III	48.1%	Medium	
1155 Number of Dice Rolls With Target Sum	47.6%	Medium	*
314	Binary Tree Vertical Order Traversal 46.9%	Medium	
253	Meeting Rooms II 46.8%	Medium	
1328	Break a Palindrome	46.4%	Medium	*
16	3Sum Closest	46.3%	Medium	
148	Sort List	46.2%	Medium	
153	Find Minimum in Rotated Sorted Array	46.1%	Medium	
38	Count and Say	46.0%	Medium	
681	Next Closest Time 45.9%	Medium	
120	Triangle	45.7%	Medium	
494	Target Sum	45.7%	Medium	*
698	Partition to K Equal Sum Subsets	45.6%	Medium	*
340	Longest Substring with At Most K Distinct Characters 45.4%	Medium	*
743	Network Delay Time	45.4%	Medium	*
622	Design Circular Queue	45.4%	Medium	
670	Maximum Swap	45.1%	Medium	*
886	Possible Bipartition	45.1%	Medium	
438	Find All Anagrams in a String	44.9%	Medium	
416	Partition Equal Subset Sum	44.8%	Medium	*
528	Random Pick with Weight	44.6%	Medium	*
240	Search a 2D Matrix II	44.5%	Medium	
207	Course Schedule	44.3%	Medium	
73	Set Matrix Zeroes	44.3%	Medium	
291	Word Pattern II 44.2%	Medium	*
300	Longest Increasing Subsequence	44.0%	Medium	
162	Find Peak Element	43.9%	Medium	
435	Non-overlapping Intervals	43.9%	Medium	*
560	Subarray Sum Equals K	43.8%	Medium	
443	String Compression	43.5%	Medium	*
395	Longest Substring with At Least K Repeating Characters	43.5%	Medium	*
525	Contiguous Array	43.5%	Medium	
277	Find the Celebrity 43.4%	Medium	*
1152	Analyze User Website Visit Pattern 43.3%	Medium	
735	Asteroid Collision	43.3%	Medium	
261	Graph Valid Tree 43.1%	Medium	*
285	Inorder Successor in BST 42.8%	Medium	
198	House Robber	42.8%	Medium	
264	Ugly Number II	42.8%	Medium	
388	Longest Absolute File Path	42.8%	Medium	
417	Pacific Atlantic Water Flow	42.5%	Medium	
210	Course Schedule II	42.5%	Medium	
95	Unique Binary Search Trees II	42.5%	Medium	
117	Populating Next Right Pointers in Each Node II	42.0%	Medium	
139	Word Break	41.6%	Medium	
187	Repeated DNA Sequences	41.4%	Medium	*
134	Gas Station	41.2%	Medium	*
56	Merge Intervals	41.0%	Medium	
542	01 Matrix	40.9%	Medium	
138	Copy List with Random Pointer	40.7%	Medium	
334	Increasing Triplet Subsequence	40.7%	Medium	*
143	Reorder List	40.5%	Medium	
92	Reverse Linked List II	40.5%	Medium	
304	Range Sum Query 2D - Immutable	40.5%	Medium	
957	Prison Cells After N Days	40.2%	Medium	
211	Design Add and Search Words Data Structure	40.1%	Medium	
1091	Shortest Path in Binary Matrix	40.0%	Medium	
662	Maximum Width of Binary Tree	39.9%	Medium	*
545	Boundary of Binary Tree 39.7%	Medium	*
142	Linked List Cycle II	39.6%	Medium	
209	Minimum Size Subarray Sum	39.4%	Medium	
82	Remove Duplicates from Sorted List II	39.2%	Medium	
909	Snakes and Ladders	39.2%	Medium	
133	Clone Graph	39.1%	Medium	
221	Maximal Square	39.1%	Medium	*
826	Most Profit Assigning Work	39.1%	Medium	*
316	Remove Duplicate Letters	39.1%	Medium	
229	Majority Element II	38.7%	Medium	
227	Basic Calculator II	38.5%	Medium	*
845	Longest Mountain in Array	38.5%	Medium	
368	Largest Divisible Subset	38.3%	Medium	*
393	UTF-8 Validation	38.0%	Medium	
6	ZigZag Conversion	37.9%	Medium	
150	Evaluate Reverse Polish Notation	37.8%	Medium	
332	Reconstruct Itinerary	37.8%	Medium	*
74	Search a 2D Matrix	37.7%	Medium	
373	Find K Pairs with Smallest Sums	37.7%	Medium	*
93	Restore IP Addresses	37.5%	Medium	
687	Longest Univalue Path	37.3%	Medium	*
34	Find First and Last Position of Element in Sorted Array	37.3%	Medium	
322	Coin Change	37.2%	Medium	*
1197 Minimum Knight Moves 37.2%	Medium	*
79	Word Search	36.8%	Medium	*
54	Spiral Matrix	35.9%	Medium	
33	Search in Rotated Sorted Array	35.8%	Medium	
146	LRU Cache	35.7%	Medium	*
19	Remove Nth Node From End of List	35.7%	Medium	
353	Design Snake Game 35.7%	Medium	*
2	Add Two Numbers	35.4%	Medium	
63	Unique Paths II	35.2%	Medium	
532	K-diff Pairs in an Array	35.2%	Medium	*
55	Jump Game	35.1%	Medium	*
57	Insert Interval	35.0%	Medium	
43	Multiply Strings	34.9%	Medium	
18	4Sum	34.8%	Medium	
71	Simplify Path	34.6%	Medium	
918	Maximum Sum Circular Subarray	34.2%	Medium	
31	Next Permutation	33.8%	Medium	*
81	Search in Rotated Sorted Array II	33.5%	Medium	*
556	Next Greater Element III	33.5%	Medium	*
1574 Shortest Subarray to be Removed to Make Array Sorted	33.4%	Medium	
161	One Edit Distance 33.0%	Medium	
152	Maximum Product Subarray	32.7%	Medium	
1465 Maximum Area of a Piece of Cake After Horizontal and Vertical Cuts	32.7%	Medium	
708	Insert into a Sorted Circular Linked List 32.5%	Medium	*
61	Rotate List	31.7%	Medium	
581	Shortest Unsorted Continuous Subarray	31.7%	Medium	
678	Valid Parenthesis String	31.6%	Medium	
3	Longest Substring Without Repeating Characters	31.4%	Medium	*
50	Pow(x, n)	30.9%	Medium	
1648 Sell Diminishing-Valued Colored Balls	30.7%	Medium	*
179	Largest Number	30.6%	Medium	
5	Longest Palindromic Substring	30.5%	Medium	
165	Compare Version Numbers	30.3%	Medium	
130	Surrounded Regions	29.3%	Medium	
98	Validate Binary Search Tree	28.7%	Medium	
402	Remove K Digits	28.6%	Medium	*
15	3Sum	28.0%	Medium	
91	Decode Ways	26.5%	Medium	
707	Design Linked List	25.9%	Medium	
523	Continuous Subarray Sum	24.7%	Medium	*
665	Non-decreasing Array	19.7%	Medium	
29	Divide Two Integers	16.6%	Medium	
8	String to Integer (atoi)	15.6%	Medium	
980	Unique Paths III	77.1%	Hard	
489	Robot Room Cleaner 72.4%	Hard	*
759	Employee Free Time 68.1%	Hard	*
1597	Build Binary Expression Tree From Infix Expression 62.5%	Hard	*
895	Maximum Frequency Stack	62.3%	Hard	*
1312 Minimum Insertion Steps to Make a String Palindrome	59.6%	Hard	
1335 Minimum Difficulty of a Job Schedule	56.9%	Hard	*
1092 Shortest Common Supersequence	53.0%	Hard	*
42	Trapping Rain Water	51.1%	Hard	*
726	Number of Atoms	51.1%	Hard	*
992	Subarrays with K Different Integers	50.6%	Hard	*
1192 Critical Connections in a Network	50.0%	Hard	*
995	Minimum Number of K Consecutive Bit Flips	49.8%	Hard	*
297	Serialize and Deserialize Binary Tree	49.7%	Hard	*
51	N-Queens	49.5%	Hard	*
471	Encode String with Shortest Length 49.2%	Hard	*
465	Optimal Account Balancing 48.2%	Hard	*
1235	Maximum Profit in Job Scheduling	47.4%	Hard	*
679	24 Game	47.2%	Hard	*
295	Find Median from Data Stream	46.8%	Hard	*
588	Design In-Memory File System 46.7%	Hard	
72	Edit Distance	46.7%	Hard	
37	Sudoku Solver	46.4%	Hard	*
410	Split Array Largest Sum	46.3%	Hard	*
128	Longest Consecutive Sequence	46.2%	Hard	*
642	Design Search Autocomplete System 46.1%	Hard	
329	Longest Increasing Path in a Matrix	44.8%	Hard	
25	Reverse Nodes in k-Group	44.7%	Hard	*
239	Sliding Window Maximum	44.6%	Hard	*
301	Remove Invalid Parentheses	44.6%	Hard*	
472	Concatenated Words	44.1%	Hard	
407	Trapping Rain Water II	44.1%	Hard	*
546	Remove Boxes	44.1%	Hard	*
772	Basic Calculator III 43.6%	Hard *	
815	Bus Routes	43.3%	Hard	*
1293 Shortest Path in a Grid with Obstacles Elimination	43.1%	Hard	*
317	Shortest Distance from All Buildings 42.7%	Hard	*
23	Merge k Sorted Lists	42.6%	Hard	
315	Count of Smaller Numbers After Self	42.5%	Hard	*
99	Recover Binary Search Tree	42.4%	Hard	*
727	Minimum Window Subsequence 42.2%	Hard	*
154	Find Minimum in Rotated Sorted Array II	42.0%	Hard	*
1345 Jump Game IV	42.0%	Hard	*
502	IPO	41.5%	Hard	*
403	Frog Jump	41.4%	Hard	*
1000 Minimum Cost to Merge Stones	40.4%	Hard	*
715	Range Module	40.2%	Hard	*
123	Best Time to Buy and Sell Stock III	39.9%	Hard	
115	Distinct Subsequences	39.6%	Hard	*
85	Maximal Rectangle	39.4%	Hard	*
60	Permutation Sequence	39.3%	Hard	*
829	Consecutive Numbers Sum	39.3%	Hard	*
987	Vertical Order Traversal of a Binary Tree	38.8%	Hard	
854	K-Similar Strings	38.7%	Hard	*
480	Sliding Window Median	38.6%	Hard *	
224	Basic Calculator	38.1%	Hard	*
84	Largest Rectangle in Histogram	37.1%	Hard	*
212	Word Search II	36.9%	Hard	*
282	Expression Add Operators	36.7%	Hard	*
1505 Minimum Possible Integer After at Most K Adjacent Swaps On Digits	36.4%	Hard	*
218	The Skyline Problem	36.3%	Hard	*
1416 Restore The Array	36.3%	Hard	*
354	Russian Doll Envelopes	36.2%	Hard	
460	LFU Cache	36.0%	Hard	*
76	Minimum Window Substring	35.9%	Hard	*
124	Binary Tree Maximum Path Sum	35.4%	Hard	
140	Word Break II	34.6%	Hard	
336	Palindrome Pairs	34.6%	Hard	
269	Alien Dictionary 33.7%	Hard	*
41	First Missing Positive	33.6%	Hard	*
432	All O`one Data Structure	33.1%	Hard	
135	Candy	33.0%	Hard	
685	Redundant Connection II	33.0%	Hard	*
127	Word Ladder	31.7%	Hard	
233	Number of Digit One	31.7%	Hard	
45	Jump Game II	31.4%	Hard	*
132	Palindrome Partitioning II	31.2%	Hard	*
4	Median of Two Sorted Arrays	31.0%	Hard	*
188	Best Time to Buy and Sell Stock IV	29.6%	Hard	
68	Text Justification	29.6%	Hard	
32	Longest Valid Parentheses	29.3%	Hard	
1610 Maximum Number of Visible Points	29.2%	Hard	*
273	Integer to English Words	28.1%	Hard	
10	Regular Expression Matching	27.3%	Hard	*
887	Super Egg Drop	27.0%	Hard	*
493	Reverse Pairs	26.8%	Hard	*
44	Wildcard Matching	25.4%	Hard *	
126	Word Ladder II	23.6%	Hard	*
564	Find the Closest Palindrome	20.3%	Hard	

selected practice:
- pay attention to edge case
- clarify input scale.
- use example to get the approach !!

496	Next Greater Element I	65.5%	Easy	 *
hashmap + stack
169	Majority Element	60.0%	Easy	*
voting.
448	Find All Numbers Disappeared in an Array	56.1%	Easy	*
mark seen as negative. 
1496	Path Crossing	55.3%	Easy	*
hashmap
1539 Kth Missing Positive Number	55.1%	Easy	*
binary search: note the right shall be n instead of n-1.
235	Lowest Common Ancestor of a Binary Search Tree	51.7%	Easy	*
997	Find the Town Judge	49.8%	Easy	*
trust: outgoing, trusted: incoming, net=n-1; (also some edge cases)
there is another similar by calling API: find the celebrity
572	Subtree of Another Tree	44.5%	Easy	***
using same tree.
204	Count Primes	32.2%	Easy	***
using flags. all 1 and use sieve to mark all multiples.

535	Encode and Decode TinyURL	80.9%	Medium	***
hashmap. using 0-9a-zA-Z, assign an int to string and then using the id to convert to string. 
339	Nested List Weight Sum 76.3%	Medium	***
consider a tree structure and use dfs. consider it also as an array (level)

861	Score After Flipping Matrix	73.6%	Medium	*
greedy. fix the first col.
1277	Count Square Submatrices with All Ones	72.9%	Medium	*
dp ending with, use dp[i-1,j],dp[i,j-1],dp[i-1,j-1]

1448	Count Good Nodes in Binary Tree	70.6%	Medium	*
979	Distribute Coins in Binary Tree	69.7%	Medium	***
get count and +abs(cnt) to ans.
442	Find All Duplicates in an Array	68.9%	Medium	*
do check the sample. similar to 443.

1043 Partition Array for Maximum Sum	66.9%	Medium	***
partition and the subarray sum is the max*subarray size. subarray length <=k.
dp, partitioning. we can apply pq to find the max and save time to O(nlogn) + sliding window.

78	Subsets	65.0%	Medium	***
backtracking, combination.

1236 Web Crawler 64.6%	Medium	*
craw all links under tha same host. (host find / position) possibly bfs is better.
dfs or bfs are all fine. see 1242 web crawler multithreaded. 
multithreading: need process the queue by a nmber of threads, accessing the queue shall be protected using mutex.
thread start/exit conditions.

1167 Minimum Cost to Connect Sticks 64.4%	Medium	*
a list of stick length, combine at the cost x+y, return min cost to connect all.
greedy: using pq.

1190	Reverse Substrings Between Each Pair of Parentheses	64.1%	Medium	***
using stack for string processing.
after get the string in bracket, reverse it and then connect with string in stack (using vector is better)

230	Kth Smallest Element in a BST	62.5%	Medium	*
- O(N) is trivial
- O(nlogn) count 
- bst change often? ***

856	Score of Parentheses	62.4%	Medium	***
using stack: need two stack one stack store the char, the other stores the score. (actually the char stack is not needed.)
()() is the base for adding score, 
(()) need to update and unwrap to store one in the stack.
- similar to +-*/ evaluation
- first add 0 to stack (for adding)
- use example to get the approach!!!

426	Convert Binary Search Tree to Sorted Doubly Linked List 61.1%	Medium	***
using a dummy to avoid infinite loop.

1004 Max Consecutive Ones III	60.7%	Medium	*
sliding window (count 0)

216	Combination Sum III	60.2%	Medium	*
choose k element sum to target. backtracking.

173	Binary Search Tree Iterator	60.0%	Medium	*
39	Combination Sum	59.1%	Medium	*
all unique combination (can be reused), backtracking. 

684	Redundant Connection	58.9%	Medium	***
undirected graph: union-find.
for direct graph: union-find is one way.

503	Next Greater Element II	58.4%	Medium	*
circular.
215	Kth Largest Element in an Array	58.3%	Medium	*
unsorted array. pq.

863	All Nodes Distance K in Binary Tree	57.8%	Medium	*
graph + bfs

1057	Campus Bikes 57.7%	Medium	***
pq.

378	Kth Smallest Element in a Sorted Matrix	56.1%	Medium	***
binary search or pq. but use the first and last element.
count using upper_bound for each row.

1041 Robot Bounded In Circle	55.0%	Medium	*
greedy: repeat 1 to 4 times and it always return to origin (if bounded)

341	Flatten Nested List Iterator	54.5%	Medium	*
dfs
1647 Minimum Deletions to Make Character Frequencies Unique	54.5%	Medium	*
map

1229 Meeting Scheduler 54.3%	Medium	*
two pointer intersection

449	Serialize and Deserialize BST	54.0%	Medium	*
same as binary tree.

137	Single Number II 53.8%	Medium	*
every appears 3 times except one using bits.

926	Flip String to Monotone Increasing	53.2%	Medium	*
left and right direction

646	Maximum Length of Pair Chain	52.9%	Medium	*
LIS
11	Container With Most Water	52.7%	Medium	*
two pointer

652	Find Duplicate Subtrees	52.4%	Medium	*
hashmap (in the same tree)
for each node get the serialization and store in hashmap.

131	Palindrome Partitioning	51.9%	Medium	*
get all partitioning backtracking.

1615 Maximal Network Rank	51.9%	Medium	*
record direct connection and count incoming connections
then try each pair.

114	Flatten Binary Tree to Linked List	51.8%	Medium	*
right root left order

518	Coin Change 2	51.7%	Medium	*
count number of ways. knapsack with repeating.

498	Diagonal Traverse	50.2%	Medium	*
using dx,dy,x,y,and diagnonal index.
since the index x+y is bounded by diagonal index.

40	Combination Sum II	50.1%	Medium	*
backtracking each can be used once

650	2 Keys Keyboard	50.0%	Medium	*
dp.

1239	Maximum Length of a Concatenated String with Unique Characters	49.5%	Medium	****
dp LIS.
the key observation is: dp[i] is not dependent only on dp[j] (since if i cannot combine with dp[j] it may still be able to connect with its previous elements). It is more like a bitmask choice.
- sort from longest to shortest (greedy)
- apply dp LIS.

47	Permutations II	49.3%	Medium	*
with duplicates, using map. backtracking.
90	Subsets II	48.8%	Medium	*
with duplicates, combination. backtracking.

309	Best Time to Buy and Sell Stock with Cooldown	48.1%	Medium	*
dp. use top down
1155 Number of Dice Rolls With Target Sum	47.6%	Medium	*
dp. count number of ways.

1328	Break a Palindrome	46.4%	Medium	*
greedy the first one>a change to a. or the last one to b.

494	Target Sum	45.7%	Medium	*
dp, knapsack, number of ways.

698	Partition to K Equal Sum Subsets	45.6%	Medium	*
backtracking.

340	Longest Substring with At Most K Distinct Characters 45.4%	Medium	*
sliding window.

743	Network Delay Time	45.4%	Medium	****
shortest distance using dijkstra. 

670	Maximum Swap	45.1%	Medium	*
swap once to get max. greedy.
416	Partition Equal Subset Sum	44.8%	Medium	*
knapsack

528	Random Pick with Weight	44.6%	Medium	*
prefix sum.

291	Word Pattern II 44.2%	Medium	*
hashmap and similar to backtracking.

435	Non-overlapping Intervals	43.9%	Medium	*
longest non-overlapping intervals, greedy O(nlogn), dp: O(N^2)

443	String Compression	43.5%	Medium	*
two pointer.

395	Longest Substring with At Least K Repeating Characters	43.5%	Medium	***
divide and conquer (throw away those <k chars)
sliding window: not very suitable since we need check valid from invalid subarrays.

277	Find the Celebrity 43.4%	Medium	*
O(N): find candidate first, if someone does not know candidate, then he becomes the candidate.

261	Graph Valid Tree 43.1%	Medium	*
union-find

187	Repeated DNA Sequences	41.4%	Medium	*
rolling hash.

134	Gas Station	41.2%	Medium	*
greedy or sliding window.

334	Increasing Triplet Subsequence	40.7%	Medium	*
stack, monotonic. similar to 132 pattern.

662	Maximum Width of Binary Tree	39.9%	Medium	*
right position - left position

545	Boundary of Binary Tree 39.7%	Medium	*
preorder and then postorder. tricky!
get the boundary of left and right. left children is left boundary but not right boundary
right children is right boundary but not left children


221	Maximal Square	39.1%	Medium	*
dp

826	Most Profit Assigning Work	39.1%	Medium	***
- difficulty vs max profit hashmap
- left max profit: so to avoid greedy choose the max difficulty job
- then binary search.

227	Basic Calculator II	38.5%	Medium	*
using stack

368	Largest Divisible Subset	38.3%	Medium	*
sort and then LIS dp with path information
not working for negatives.

332	Reconstruct Itinerary	37.8%	Medium	*
backtracking

373	Find K Pairs with Smallest Sums	37.7%	Medium	*
sorted array kth sum, pq. 

687	Longest Univalue Path	37.3%	Medium	*
connect to left right, a bit tricky.

322	Coin Change	37.2%	Medium	*
min number of coins. can reuse.
1d dp: dfferent from coin change 2, the amount loop shall be the outer loop.

1197 Minimum Knight Moves 37.2%	Medium	*
bfs limited in 1st quarter.

79	Word Search	36.8%	Medium	*
146	LRU Cache	35.7%	Medium	* linked hashmap.
353	Design Snake Game 35.7%	Medium	*
532	K-diff Pairs in an Array	35.2%	Medium	*
|A[i]-A[j]|=k.
- skip duplicates
- we need keep all the elements in array. 

55	Jump Game	35.1%	Medium	*
31	Next Permutation	33.8%	Medium	*
81	Search in Rotated Sorted Array II	33.5%	Medium	*
556	Next Greater Element III	33.5%	Medium	*
next larger integer using same digits.

708	Insert into a Sorted Circular Linked List 32.5%	Medium	*
3	Longest Substring Without Repeating Characters	31.4%	Medium	*
1648 Sell Diminishing-Valued Colored Balls	30.7%	Medium	***
binary search!!!

402	Remove K Digits	28.6%	Medium	*
monotonic stack.

523	Continuous Subarray Sum	24.7%	Medium	*
prefix sum (%k k=0 is a special case)

489	Robot Room Cleaner 72.4%	Hard	***
dfs simulation, using v and 

759	Employee Free Time 68.1%	Hard	*
using map and prefix sum.

1597	Build Binary Expression Tree From Infix Expression 62.5%	Hard	*
recursive stack for string parsing.

895	Maximum Frequency Stack	62.3%	Hard	*
hashmap and map of stack.

1335 Minimum Difficulty of a Job Schedule	56.9%	Hard	*
dp, array partitioning.

1092 Shortest Common Supersequence	53.0%	Hard	*
bitmask dp.

42	Trapping Rain Water	51.1%	Hard	*
two pointer.

726	Number of Atoms	51.1%	Hard	*
recursive stack.

992	Subarrays with K Different Integers	50.6%	Hard	*
sliding window.

1192 Critical Connections in a Network	50.0%	Hard	*
union-find.

995	Minimum Number of K Consecutive Bit Flips	49.8%	Hard	*
greedy.

297	Serialize and Deserialize Binary Tree	49.7%	Hard	*
51	N-Queens	49.5%	Hard	*
backtracking.

471	Encode String with Shortest Length 49.2%	Hard	***
dp using hashmap: check all prefix
465	Optimal Account Balancing 48.2%	Hard	*
get each person's net debt, backtracking.
then use different sign to clear the debt.

1235	Maximum Profit in Job Scheduling	47.4%	Hard	*
dp: non-overlapped array partitioning.

679	24 Game	47.2%	Hard	*
using +-*/ to get 24. backtracking to try all combinations.

295	Find Median from Data Stream	46.8%	Hard	*
using two pq.

37	Sudoku Solver	46.4%	Hard	*
backtracking.

410	Split Array Largest Sum	46.3%	Hard	*
binary search.

128	Longest Consecutive Sequence	46.2%	Hard	*
union find.

25	Reverse Nodes in k-Group	44.7%	Hard	*

239	Sliding Window Maximum	44.6%	Hard	*
deque.
407	Trapping Rain Water II	44.1%	Hard	*
pq from outside ring. hard!!!

546	Remove Boxes	44.1%	Hard	*
dp subarray removing.

815	Bus Routes	43.3%	Hard	*
bfs.

1293 Shortest Path in a Grid with Obstacles Elimination	43.1%	Hard	***
bfs. with greedy approach. 

317	Shortest Distance from All Buildings 42.7%	Hard	*
bfs

315	Count of Smaller Numbers After Self	42.5%	Hard	*
divide and conquer.

99	Recover Binary Search Tree	42.4%	Hard	*
inorder and record the reversed pairs.

727	Minimum Window Subsequence 42.2%	Hard	*
sliding window. shrink the window from right to left.

154	Find Minimum in Rotated Sorted Array II	42.0%	Hard	*
binary search.

1345 Jump Game IV	42.0%	Hard	*
jump +1 -1 or index j where A[i]==A[j]
return the min steps to reach the last index.
bfs+hashmap: need to make some optimizations

502	IPO	41.5%	Hard	*
pq greedy

403	Frog Jump	41.4%	Hard	*
next jump would be k-1,k,k+1
bfs

1000 Minimum Cost to Merge Stones	40.4%	Hard	*
dp interval or subarray

715	Range Module	40.2%	Hard	*
interval add/remove/query
the order of calling are not in your order. so take care of edge cases.
- using merge/removing interval (to store the intervals)
- using map add/removal will be more tricky.

115	Distinct Subsequences	39.6%	Hard	*
number of ways. dp.

85	Maximal Rectangle	39.4%	Hard	*
using histogram algorithm in 2d, stack.

60	Permutation Sequence	39.3%	Hard	*
kth permutation: reduce size using (n-1)!...get each digit.

829	Consecutive Numbers Sum	39.3%	Hard	*
length=1, =2...up to sqrt(n) with math.

854	K-Similar Strings	38.7%	Hard	*
bfs.

224	Basic Calculator	38.1%	Hard	*
recursive stack.

84	Largest Rectangle in Histogram	37.1%	Hard	*
stack.

212	Word Search II	36.9%	Hard	*
trie+dfs

282	Expression Add Operators	36.7%	Hard	*
add +-* to get the target value.
try all prefix and 3 operators.

1505 Minimum Possible Integer After at Most K Adjacent Swaps On Digits	36.4%	Hard	*
greedy, move the smallest to left.
with heap + binary index tree. 
hard.

218	The Skyline Problem	36.3%	Hard	*
hard

1416 Restore The Array	36.3%	Hard	*
separate the digits into [1,k], dp number of ways.

460	LFU Cache	36.0%	Hard	*
hashmap + list iterator

76	Minimum Window Substring	35.9%	Hard	*
sliding window.
269	Alien Dictionary 33.7%	Hard	*
bfs hard!!
41	First Missing Positive	33.6%	Hard	*
put the element in its position, discard those out of range.
two pass.

685	Redundant Connection II	33.0%	Hard	*
direct tree, union find.

45	Jump Game II	31.4%	Hard	*
a[i] represent the max jump. bfs.

132	Palindrome Partitioning II	31.2%	Hard	*
min cut. dp.

4	Median of Two Sorted Arrays	31.0%	Hard	*
divide and conquer. binary search..

1610 Maximum Number of Visible Points	29.2%	Hard	*
sliding window in circular.

10	Regular Expression Matching	27.3%	Hard	*
dp

887	Super Egg Drop	27.0%	Hard	*
dp

493	Reverse Pairs	26.8%	Hard	*
divide and conquer.

126	Word Ladder II	23.6%	Hard	*
bfs with path information.


Youtube on Amazon interview
3 large scale example
star method.
data driven.
ask questions

### On AWS:
AWS: on demand clound computing platform.
EC2: elastic compute cloud, providing a cluster of virtual computers
AWS comprises more then 175 products and services
computing, storage, networking, database, 

https://blog.usejournal.com/what-is-aws-and-what-can-you-do-with-it-395b585b03c

region
availability zone
edge location: they are CDN(Content delivery network) endpoints.

- compute:
	- EC2 (Elastic Computing Clound): virtual computers
	- lightsail: auto deployes applications, (storage, networking, computing)
	- ECS: (Elastic container services): the services provides the virtual environment for running the application (library, app, os et al)
	- EKS: elastic container sevices for Kubernetes
	- Lambda: serverless technology, allows to run your functions in the cloud.
	- batch: 
	- Elastic beamstalk: auto deployment and provisioning of resources (highly scalable)
	
- storage
	- s3 (simple storage services)
	- efs (elastic file system) to store files with EC2 instance
	- Glacier: for long term file storage
	- Storage Gateway: virtual machine storage.
	
- database:
	- RDS: MySql, MariaDb, PostgreSQL, Oracle servers
	- dynamoDB: highly scalable NoSQL.
	- ElasticCache: caching the most frequent queries
	- Neptune: graph database services
	- RedShift: data warehousing solution for OLAP (Online Transactional Processing)
	
- migration
	- DMS (database Migration services)
	- SMS (server Migration Service)
	- SnowBall: briefcase to send terabytes of data.

Network & Content Delivery
	- VPC(Virtual Private CLound): isolate your resources
	- CloundFront: cache reources
	- Route53: DNS services
	- Direct Connect: high speed dedicated line.
	- API gateway: create and manage your API
	
Developer Tools
	- CodeStar: 
	- CodeCommit
	- CodeBuild
	- CodeDeploy
	- CodePipeLine
	- Code9: IDE
	- xray: analyze

Management Tools:
	- CloudWatch: 
	- CloudFormation
	- CloudTrail
	
- Analytics
- security, identity, compliances
- application services
- mobile services
- BUsiness productivity
- desktop & app streaming
- AI
- VR
- Cutomer Engagement
- Game development
- Internet of things

### general behaviour questions
some overlapped with the 14 principles.

#### team work
Talk about a time when you had to work closely with someone whose personality was very different from yours.

Give me an example of a time you faced a conflict while working on a team. How did you handle that?

Describe a time when you struggled to build a relationship with someone important. How did you eventually overcome that?

We all make mistakes we wish we could take back. Tell me about a time you wish you’d handled a situation differently with a colleague.

Tell me about a time you needed to get information from someone who wasn’t very responsive. What did you do?


#### client Facing
Describe a time when it was especially important to make a good impression on a client. How did you go about doing so?

Give me an example of a time when you did not meet a client’s expectation. What happened, and how did you attempt to rectify the situation?

Tell me about a time when you made sure a customer was pleased with your service.
Describe a time when you had to interact with a difficult client. What was the situation, and how did you handle it?

When you’re working with a large number of customers, it’s tricky to deliver excellent service to them all. How do you go about prioritizing your customers’ needs?

#### Ability to Adapt
Tell me about a time you were under a lot of pressure. What was going on, and how did you get through it?
Describe a time when your team or company was undergoing some change. How did that impact you, and how did you adapt?

Tell me about the first job you’ve ever had. What did you do to learn the ropes?

Give me an example of a time when you had to think on your feet in order to delicately extricate yourself from a difficult or awkward situation.
- confident with the new release, but in test, it does not work as expected which is not found in house testing. I guess the reason and decide to disable the new features and collects data back. 

Tell me about a time you failed. How did you deal with the situation?

#### time management skills
Tell me about a time you had to be very strategic in order to meet all your top priorities.
Describe a long-term project that you managed. How did you keep everything moving along in a timely manner?
Sometimes it’s just not possible to get everything on your to-do list done. Tell me about a time your responsibilities got a little overwhelming. What did you do?
Tell me about a time you set a goal for yourself. How did you go about ensuring that you would meet your objective?
Give me an example of a time you managed numerous responsibilities. How did you handle that?

#### communication skills
Give me an example of a time when you were able to successfully persuade someone to see things your way at work.
Describe a time when you were the resident technical expert. What did you do to make sure everyone was able to understand you?
Tell me about a time when you had to rely on written communication to get your ideas across to your team.
Give me an example of a time when you had to explain something fairly complex to a frustrated client. How did you handle this delicate situation?
Tell me about a successful presentation you gave and why you think it was a hit.

#### motivation and values

Tell me about your proudest professional accomplishment.

Describe a time when you saw some problem and took the initiative to correct it rather than waiting for someone else to do it.

Tell me about a time when you worked under close supervision or extremely loose supervision. How did you handle that?

Give me an example of a time you were able to be creative with your work. What was exciting or difficult about it?

Tell me about a time you were dissatisfied in your work. What could have been done to make it better?

### Amazon 14 leadership
Customer Obsession 顾客至上
Leaders start with the customer and work backwards. They work vigorously to earn and keep customer trust. Although leaders pay attention to competitors, they obsess over customers.

领导者从客户入手，再反向推动工作。他们努力工作，赢得并维系客户对他们的信任。虽然领导者会关注竞争对手，但是他们更关注客户 。

Ownership 主人翁精神
Leaders are owners. They think long term and don’t sacrifice long-term value for short-term results. They act on behalf of the entire company, beyond just their own team. They never say “that’s not my job."

领导者是主人翁。他们会从长远考虑，不会为了短期业绩而牺牲长期价值。他们不仅仅代表自己的团队，而且代表整个公司行事。他们绝不会说“那不是我的工作”。

Invent and Simplify 创新简化
Leaders expect and require innovation and invention from their teams and always find ways to simplify. They are externally aware, look for new ideas from everywhere, and are not limited by “not invented here." As we do new things, we accept that we may be misunderstood for long periods of time.
领导者期望并要求自己的团队进行创新和发明，并始终寻求使工作简化的方法。他们了解外界动态，四处寻找新的创意，并且不局限于“非我发明”的观念。当我们开展新事物时，我们要接受被长期误解的可能。

Are Right, A Lot 决策正确
Leaders are right a lot. They have strong judgment and good instincts. They seek diverse perspectives and work to disconfirm their beliefs.
领导者在大多数情况下都能做出正确的决定。他们拥有卓越的业务判断能力和敏锐的直觉。他们寻求多样的视角，并挑战自己的观念。

Learn and Be Curious 好奇求知
Leaders are never done learning and always seek to improve themselves. They are curious about new possibilities and act to explore them.
领导者从不停止学习，并不断寻找机会以提升自己。领导者对各种可能性充满好奇并付于行动加以探索。

Hire and Develop the Best 选贤育能
Leaders raise the performance bar with every hire and promotion. They recognize exceptional talent, and willingly move them throughout the organization. Leaders develop leaders and take seriously their role in coaching others. We work on behalf of our people to invent mechanisms for development like Career Choice.
领导者不断提升招聘和晋升员工的标准。他们表彰杰出的人才，并乐于在组织中通过轮岗磨砺他们。领导者培养领导人才，他们严肃地对待自己育才树人的职责。领导者从员工角度出发，创建职业发展机制。

Insist on the Highest Standards 最高标准
Leaders have relentlessly high standards — many people may think these standards are unreasonably high. Leaders are continually raising the bar and drive their teams to deliver high quality products, services, and processes. Leaders ensure that defects do not get sent down the line and that problems are fixed so they stay fixed.
领导者有着近乎严苛的高标准 — 这些标准在很多人看来可能高得不可理喻。领导者不断提高标准，激励自己的团队提供优质产品、服务和流程。领导者会确保任何问题不会蔓延，及时彻底解决问题并确保问题不再出现。

Think Big 远见卓识
Thinking small is a self-fulfilling prophecy. Leaders create and communicate a bold direction that inspires results. They think differently and look around corners for ways to serve customers.
局限性思考只能带来局限性的结果。领导者大胆提出并阐明大局策略，由此激发良好的成果。他们从不同角度考虑问题，并广泛寻找服务客户的方式。

Bias for Action 崇尚行动
Speed matters in business. Many decisions and actions are reversible and do not need extensive study. We value calculated risk taking. 
速度对业务影响至关重要。很多决策和行动都可以改变，因此不需要进行过于广泛的推敲。我们提倡在深思熟虑前提下进行冒险。

Frugality 勤俭节约
Accomplish more with less. Constraints breed resourcefulness, self-sufficiency, and invention. There are no extra points for growing headcount, budget size, or fixed expense.
力争以更少的投入实现更大的产出。勤俭节约可以让我们开动脑筋、自给自足并不断创新。增加人力、预算以及固定支出并不会为你赢得额外加分

Earn Trust  赢得信任
Leaders listen attentively, speak candidly, and treat others respectfully. They are vocally self-critical, even when doing so is awkward or embarrassing. Leaders do not believe their or their team’s body odor smells of perfume. They benchmark themselves and their teams against the best.
领导者专注倾听，坦诚沟通，尊重他人。领导者敢于自我批评，即便这样做会令自己尴尬或难堪。他们并不认为自己或其团队总是对的。领导者会以最佳领导者和团队为标准来要求自己及其团队

Dive Deep 刨根问底
Leaders operate at all levels, stay connected to the details, audit frequently, and are skeptical when metrics and anecdote differ. No task is beneath them.
领导者深入各个环节，随时掌控细节，经常进行审核，当数据与传闻不一致时持有怀疑态度。领导者不会遗漏任何工作。

Have Backbone; Disagree and Commit 敢于谏言，服从大局
Leaders are obligated to respectfully challenge decisions when they disagree, even when doing so is uncomfortable or exhausting. Leaders have conviction and are tenacious. They do not compromise for the sake of social cohesion. Once a decision is determined, they commit wholly.
领导者必须要能够不卑不亢地质疑他们无法苟同的决策，哪怕这样做让人心烦意乱，精疲力尽。领导者要信念坚定，矢志不移。他们不会为了保持一团和气而屈就妥协。一旦做出决定，他们就会全身心地致力于实现目标。

Deliver Results 达成业绩
Leaders focus on the key inputs for their business and deliver them with the right quality and in a timely fashion. Despite setbacks, they rise to the occasion and never settle.
领导者会关注其业务的关键决定条件，确保工作质量并及时完成。尽管遭受挫折，领导者依然勇于面对挑战，从不气馁。


- amazon interview for bq also 4 grades for each question asked.
- sell yourself.

What shall be the 15th principle?
Diversity brings thoughts and ideas from people with various backgrounds, experiences and upbringing. Diverse ideas help build innovative products for different demographics and target audiences across the globe.

biggest weakness, strength & weakness, area for growth, work being criticized...
be honest, choose something not necessary for the job, how you fixed the weakness.

I Dive Too Deep
My English
I’m Bad at Giving Feedback
Some people are bad at saying anything negative. This may make you a nice person but it doesn’t make you effective at work because sometimes people don’t perform well and something needs to be said about it. You can give an example of sometime you should have said something but didn’t and say how you learned from it. 
I Can’t Say No or I’m Too Nice
This could be too much like a fake weakness unless you give a good example of a time it happened and how it negatively affected your work and say how you’ve learned to improve it. 

You Don’t Use Data 
One client said that he was told he advocated for things without backing his ideas up with data. He said that he learned he should collect proof of what the customer actually needs and use that as the data to back up his ideas.

test and practice chime

Deliver Results
Leaders focus on the key inputs for their business and deliver them with the right quality and in a timely fashion. Despite setbacks, they rise to the occasion and never settle.
setback: 挫折, rise to the occasion: to make speical effort that is required to deal with a difficult situation.
- keyinput: you need to validate the input and make sure we are doing the right thing.
- rise to the occasion: try to meet the goal. work smart
- resource assignment
- analyze the workload and trade offs 
- ask for more resources..
https://dev.to/tda/the-bar-raiser-interview-amazon-lp-deliver-results-kp9


Customer Obsession
Leaders start with the customer and work backwards. They work vigorously to earn and keep customer trust. Although leaders pay attention to competitors, they obsess over customers.

In simple terms, the ‘working backwards’ method can be described as starting with a customer want, need or problem and providing a solution through a product, service or experience. The alternative involves starting with a product, feature or solution and trying to find an audience for it.

you should speak to customers regularly, find out what they want, learn about their challenges and identify specific needs.

ontinuously seek out feedback from customers and measure performance against customer expectations.

Collect data on and deeply understand what your customer wants and needs

Ask, “Is what I’m working on helping my customers?”

Rigorously pursue customer feedback

“WOW’ your customers

Provide products and solutions that exceed customer expectations

Remove steps in your process that don't add value

Treat your customers like they’re #1

- priority
- difficult customer
- feel frustrated / impatient
- customer want one thing but you feel something else.
- is it ok to push back?
- feedback change the way you worked?

Showing “Customer Obsession” doesn’t mean you always do exactly what the customer asks. True “Customer Obsession” is about understanding the problem behind a customer request. Solving that problem might include something the customer never even imagined.

why do you want this job? why amazon?
1.   Your core messages – why you’re qualified/how you can benefit the company. If you’re not sure what I mean by this, I’ll explain more below.

2.   The reason the role excites you

3.   The idea that you understand the job

4.   You want this job in particular, not just any job at the company

5.   The way the job connects to your career plan

6.   Your intention to stay in the job for awhile


Leaders are obligated to respectfully challenge decisions when they disagree, even when doing so is uncomfortable or exhausting. Leaders have conviction and are tenacious. They do not compromise for the sake of social cohesion. Once a decision is determined, they commit wholly.

conviction: 信念
tenacious： 坚韧

you can convince others with data, not by yelling or being unnecessarily aggressive.


Possible BQ questions

Tell me about yourself
Why choose our company/why are you leaving your current job?
1. Tell me about a goal you had and how you achieved it.
2. Tell me about a time you worked on a team.
3. Share an example of how you were able to motivate an employee or a co-worker.
4. What was the last project you led and what was the outcome?
5. Describe a situation when you had to work effectively under pressure.
6. How do you handle a challenge? Give me an example.
7. Have you ever had to change the way you communicated with someone?
8. Tell me about a mistake that you made. How did you handle the situation?
9. What do you usually do when you disagree with someone at work?
10. Have you ever had to work with a difficult manager or coworker? How did you respond?
Who was your most difficult customer?
"What is the worst mistake you ever made?"
"If your direct manager was instructing you to do something you disagreed with, how would you handle it?"
"Do you know our CEO? How do you pronounce his name?" Jeff Bezos
15. "Describe what happens in your browser as soon as you hit enter after writing a URL in the address bar."
"Tell the story of the last time you had to apologize to someone."
"What would you do if you saw someone being unsafe at work?"
19. "What would you do if somehow you misdirected 10,000 units of something?"
22. "What is the most difficult situation you have ever faced in your life? How did you handle it?"
26. "Give me an example of a time when you were 75% of the way through a project, and you had to pivot strategy--how were you able to make that into a success story?"
29. "Which Amazon leadership principle do you resonate most with?"
Tell me about a time when you were faced with a problem that had a number of possible solutions. What was the problem and how did you determine the course of action? What was the outcome of that choice?
When did you take a risk, make a mistake, or fail? How did you respond, and how did you grow from that experience?
Describe a time you took the lead on a project.
What did you do when you needed to motivate a group of individuals or promote collaboration on a particular project?
How have you leveraged data to develop a strategy?

Practice using the STAR method to answer the behavioral-based interview questions listed above, incorporating examples from the Amazon Leadership Principles.
Ensure each answer has a beginning, middle, and end. Describe the situation or problem, the actions you took, and the outcome.
Prepare short descriptions of a handful of different situations and be ready to answer follow-up questions with greater detail. Select examples that highlight your unique skills.
Have specific examples that showcase your experience, and demonstrate that you’ve taken risks, succeeded, failed and grown in the process.
Specifics are key; avoid generalizations. Give a detailed account of one situation for each question you answer, and use data or metrics to support your example.
Be forthcoming and straightforward. Don't embellish or omit parts of the story.


stories:
customer obsession:

example 1:
One of our important client called to ask to add a feature to one of our underwater product. The product is used to measure the river water discharge. He requests us to add a ratio factor in our software so that he can provided the ratio output. I talked to the customer and understand that since the output is biased larger or lower.
I asked some data from the client and carefully examined the output and found the reason of underestimate or overestimate due to the model applied for the non-measurable part. I discussed this with the boss and suggest to add the model which is commonly used in industry and showed the results applying the new model and boss is convinced. I talked to client about my suggestion and said the ratio could not be a scientific way to manipulate the data. I added the suggested feature in our software, after the client saw my revised software and re-processed the data, he is satisified with our revision and accept it.

(invetigate customer what he wants, work backward, ask feedback, exceed expectation). 
situation, action, results.

example 2:
We used to have a product which is used for monitoring water flow at sea for oil industry. I received some emails querying if it can be used to measure discharge in river. I did some research on our current product and realized it is realistic to use the current product to do that. The new application needs 10 times faster measure speed and data output, which needs revisions on firmware and software only. 
After the company decided to make the new product, I implemented the firmware with most functions compatible and hardware no changes. The software GUI we changed a lot to meet the new application. Constantly I will contact the customer for the feedback and make const improvements. The new product is well received and is now one of the best sold product.

(offering solutions or products to customer)

Ownership:
example 1:

In the software development of our medical imaging device, there are quite a few modules and assigned for different engineers. I found the code for communicating with the DSP is lengthy, not organized and even not a module and spread in the software and causes much trouble. I decided to remove all of them and re-implemented as a DLL and cut the code by 80%. By hiding the implemtation details and limit it in a separate module, it is clear and concise and much more robust.

example 2:
One of our hard and tedious work is to verify our FPGA implementation. A tool is made to aim for the bittrue. However it often take a week to verify or find a problem. I did some reaearch on this, and found that partly is due to we have a lot of binary encoded tables and hundreds of registers and the softare engineers are not familiar with those. I offered to renovate the tool and make it highly efficient and requires minimal personal input or knowledge. I first decode all those tables are output them in human readable format and output all the intermediate outputs at every stage. By simulating the FPGA functions I made a very verstatile tool for the hardware verification. 
A bittrue verification on the FPGA can be done in one minute, which saves a lot of tedious work.

example 3:
situation: One of the most annoying problem in development our medical device is that the scanner is not working as expected or just does not work. Engineers spent a lot of time debugging and problems keeps going. I then carefully inspected the problem and separate the problem into the scanner configuring module. The problem is mostly due to the very complicated scanning mode configured and is hard to find since they are so many. 
I decided to make a tool to read back all FPGA configured status and convert to human readable format. When there is a problem occured, the tool is used to take the snapshot of FPGA and inspect the tables and registers. Using this, the problem is often found in short time.

Invent and simplify:
example 1: touchscreen
situation: most medical touchscreen uses a separate computer and screen and uses serial port to communicate to the host. inflexible and expensive.
action: use browser + javascript html to design flexible and powerful pages + inter-process communication.

example 2: 
version control 
situation: manual version control: windiff + version number
git: keep version control simplified.

example 3:
engineer with different perspectives:
- we add openCV, openGL, VTK to simplify our job.

Are right, A lot.
- learn from lessons, avoid the same mistake.
- collect more data, more perspectives
- intuition
“Tell me about a time you made a mistake.”
The interpersonal conflict questions
how you make decisions (how do you collect data, do you have good judgement, do you have good intuition, do you have experience to guide you?)
Describe a situation where you thought you were right, but your peers or supervisor didn’t agree with you. How did you convince them you were right? How did you react? What was the outcome?

Tell me about a time that you strongly disagreed with your manager on something you deemed to be very important to the business. What was it about and how did you handle it?

Tell me about a time where someone openly challenged you. How did you handle this feedback?

Give me an example of when you took an unpopular stance in a meeting with peers and your leader and you were the outlier. What was it, why did you feel strongly about it, and what did you do?

When do you decide to go along with the group decision even if you disagree? Give me an example of a time you chose to acquiesce to the group even when you disagreed. Would you make the same decision now?

Tell me about a decision for which data and analysis weren’t enough to provide the right course and you had to rely on your judgment and instincts. Give me two to three examples.

Tell me about a time you made a difficult decision and how you knew it was the right solution (how you evaluated the options, if you received input, what data you reviewed, etc.)

Give me an example of when you had to make an important decision in the absence of good data because there just wasn’t any. What was the situation and how did you arrive at your decision? Did the decision turn out to be the correct one? Why or why not?

Tell me about a time you had to fix something but had no data or direction.

Tell me about a time when you were faced with a challenge where the best way forward or strategy to adopt was not “clear cut” (i.e., there were a number of possible solutions). How did you decide the best way forward?

example 1:
one time, an engineer is doing noise normalization. But the noise is different using more samples. I examined his code and I think he should use Ampliture/sqrt(fftlen) instead of Aplitude/fftlen. The engineer is an expert on Digital signal processing and he is not willing change it since he think it is not correct, and the change also makes big difference. I then did some research and wrote a piece of code to generate pseudo noise and found my approach can get similar results for different lengths. I showed to him and he then starts to change it and find another problem in his coding. And the problem is solved and he thanked me and admit that I am right.

example 2:
mistake.
Once give data to customer without checking again, and found it is incorrect, and have to send appology
lesson learned: do not jump to conclusion or use unverified data support

example 3: without data support.
once a customer doing experiment on the sea. And call in that they are having a problem with our instrument and waiting for our support. According to the behavior, my intuition is that the recent wave option added may be the cause. Since they are not using it, I suggest them to explicitly disable it and problem solved.

hire and develope the best
What is your management style?
How do you approach managing your reports?
How do you help your employees grow?
Give me an example of a time you provided feedback to develop and leverage the strengths of someone on your team. Were you able to positively impact that person’s performance? What were your most effective methods?
You know how to hire excellent people
You recognize strong performers and mentor them
You try to help your people grow. You make it a priority to coach and teach employees. You provide regular feedback.

example 1
one top performer is quick and efficient, but I noticed that he intends to write long code since he is very efficient using tools and producing long and similar code is easy for him. I then ask him to pay more attention to think architecture and so the work can be more concise and less error prone and also reduce debugging time.


Insist on the highest standard.
Set SLAs for everything, and don’t take shortcuts on instrumentation.

Continually self-critique your work to make sure the quality is the best it can be.

Accept and seek coaching and feedback from your manager and others about improving the quality of your work.

Demand that your team delivers high-quality products, services, and solutions.

Coach employees about setting their own high standards and exceeding customer expectations.

example 1
Although boss and colleage are satisified with the GUI for our medical equipment, I still not happy with it. We use opengl + winGDI for the GUI and the style is not consistent. I did a lot of research trying to use OpenGL for all the GUI by adding more curves, icons, graphics to make it more intuitive. I spent a lot of time to make the fonts prettier, I tried bitmap font, texture font, outline font and truetype font, and with anti-alias, mimmap and resource sharing and get both performane and visual effects.

example 2:
color doppler imaging algorithm revision: good enough but wants to be better.
spectrum algorithm revision
- revisit every step and make sure its role and what will not work
- redesigned the changing parameters.
situation: works good for most cases, but sometimes works fair.

Think Big
If you think big you will:

See problems as challenges and opportunities

Be positive

Think of things you can do, not things you can’t

Plan what is possible, not worry about what is impossible

Be fearless

Be creative

Be able to dream and visualize what you want

calculated risk.

Example 1: 
I developed the software team by using all non-experienced engineers.
- situation: software engineer not fit in the long term success
- boss warns me the risk of failure, I took the risk
- I spent many time and energy to build a succrss team which is a great success.

Example 2:
rehaul the software architecture from scratch.
situtation: mess and at the time of building 2nd generation

Bias for action:
When faced with a tough decision that will help you and your team move forward, you don’t avoid that decision. You’re not afraid to step up and make the call. 

You encourage this same behavior in your direct reports. You let them know you’ll stand behind them if they take a risk that doesn’t work out.

 If you’re missing some key piece of information, you try to get it as quickly as possible. If you can’t, you’re not afraid to move ahead without it.

You foster an environment of action bias by responding promptly to colleagues looking for information, and always deliver on your promises.

You roll up your sleeves and remove obstacles, even when it’s “not your job.”

Still stuck? You ask for help. You don’t let yourself or your team be stuck for days at a time. 

example 1:
dicom start while learning

example 2:
work against deadline
- situation: client need to bid a contract and needs a lot of features in 4 weeks.
- action: 
discuss with client and understand what he wants
estimate the workload and priority the tasks with current resources
asking testing resources from the client and speed up the process
help the client to get the contract.

frugality
dicom example
deadline example

Learn and be curious.
example 1:
pcie/usb driver:
requires a deep understanding on the driver mechanism and protocol.

example 2:
touchscreen: learned javascript, browser, et al

Earn Trust
consistently making good decisions

keeping commitments 

treating others and their ideas with respect

adhering to high ethical standards

admitting failures

 listening, communicating, and delegating to help employees get the right things done
 
example 1.
once I met a strange problem. Our software cannot talk to the hardware. The fact is that the connection is just replaced and could be one reason, and there are utilities which works. The software is not changed. So I suspect that the connection and ask to try another one. Hardware engineer does not agree and I am not happy. But I soon found that although the software is not changed, but my colleage change a input setting file which does not work on the case. This is really embarrassing, I have to admit my mistake to the hardware engineer. I decide to not be emotional anytime to avoid this kind of mistakes.

example 2:
only give judgement with support to others to earn credit
commitment.

Dive Deep:
 If something doesn’t make sense, our leaders need to have the ability (and interest) to dive in and figure out what’s going on
 data focus
 Give me an example of when you used data to make a decision/solve a problem.

Tell me a time you gave insights beyond the data.

Have you ever leveraged data to develop strategy?

Tell me about a time you were trying to understand a problem on your team and you had to go down several layers to figure it out. Who did you talk with and what info proved most valuable? How did you use that info to help solve the problem?

Tell me about a problem you had to solve that required in-depth thought and analysis. How did you know you were focusing on the right things?

Walk me through a big problem in your organization that you helped to solve. How did you become aware of it? What info did you gather, what was missing, and how did you fill the gaps? Did you do a post mortem analysis and what did you learn?

Can you tell me about a specific metric you’ve used to identify a need for change in your department? Did you create the metric or was it readily available? How did this and other info influence the change?

example 1： bittrue example。 diving into and find what is the problem
example 2: configuration problem....


Have backbone: disagree and commit.
example 1:
dicom: boss suggests to add an engineer to do some verifications. I think it is not necessary and it is waste of resources. I have done quite a few researches and had already a detailed plan by using a third party library which can be extensible and more comprehensive. Although there are a few modules which needs purchase, I am confident that I can do it myself. Just do some trial work will not benefit our project and another important reason is the engineer working style, his work is hardly be able to fit in our software (he is more used to low level firmware).
Anyway, boss still let the engineer do the work. He worked on it for several weeks and the outcome is not satisfactory and cannot be used in software. During the same time, I was able to implement most of the necessary protocols in our software. 

example 2:
The water discharge scheme. 
situation-
suggestion
confliction: 
persuation
results.


## System Design

terminology
replication
consistency
availability
partition tolerance
vertical/horizontal scaling
sharding

### background knowledge
these are common knowledges for system design.
pay attention to:
- protocols, trade offs
- algorithm and data structure for common tasks.
- database sql vs nosql

web front end: html, javascript, css
web server:  backend, javascript, services, server-client, websockets, tcp/ip
handle http requests, message, accessing a database, exchanging message et al.

microservice: appication as a collection of services.
services are highly maintainable and testable
loosely coupled
independently deployable
owned by a small team

database
relational database: tables of rows.
Often seen: MS Sql, oracle, MySql, PostgreSql, SqLite, MariaDb
primary key: used to represent a row
foreign key: in associative table to connect the primary key to create relation
query using SQL.

Non-relational database.
has no primary key, foreign key, row or cols.
actually it is a storage model optimized for specific application
often seen: MongoDB, Apache Cassandra, Redis, Couchbase and Apache HBase.
flexible format or no format, easy for horizontal scaling.
- data structure like documents for example hashmap, graph, trie, quadtree, tree et al.
- query is usually fast since it does not need to go to several tables.
- ideal for dynamic, complex unstructured data.

key-value store: hash-map or dictionary

document data store:
named string vs object data values  -> document (typically store in jason or xml, flexible format)

column oriented data store:

graph database: efficiently store relations between entities. 

NoSQL is good for unstructured data with great scalability.

cache: to improve throughput and reduce latency.
LRU: least recently used, hashmap list.
LFU: least frequent used, hashmap, list.
https://aws.amazon.com/caching/

redundancy: remove single point of failure.

replication: to keep data consistency and avoid failure.

networking & often used protocols
- http
- tcp/ip
- REST API.
json, soap, xml, 

scaling related:
load balance.
algorithm: simple round robin, 

partition:
- range based partitioning
- hash based partitioing

caching:
- 20% rule
- eviction policy: LRU: linked hashmap
- cache miss: go to the database.

concurrency or multithreading
- events
- mutex
- algorithm and data structure for multithreading.

OOD design pattern
singleton
factory
builder
prototype
chain of responsibility
observer
proxiy
adapter

common techniques and data structures for system design
- trie- recommendation system
- quadtree- for geoinfo system
- graph- for social network
- hashtable- for partitioing, sharding, cache
- base62/64 MD5 encoding
- message queue (many techniques in desktop app can be used in distributed)
- heap (for recommendation or rating).

### Procedure to system design.
- requirement clarification: to define the functional and non-functional requirements.
- estmiation: read, write, memory, disk et al. for scaling and performance 
- system interface definition (API)
- defining data model and algorithm.
- high level design
- detailed design: talk about different options and tradeoffs.
- cache: how to improve performance:
- replica & fault tolerance. (availability)
- load balance
- concurrency.
Bear in mind: each option may have good and bad, be sure to discuss them and make tradeoff.

Examples
Paging through comments
Amazon's recommendation system
chess game

tradeoffs
each design its advantage and disadvantages needs to be discussed.

database:
network traffic
load balance.

database sharding
group a list of rows on a separate severs.
- hash sharding
- range sharding
- geo partition

vertical sharding:
group some columns together.
for example often used columns vs rarely used columns
use additional tables with foreign key

Rest API: representational state transfer
text serialization of the requests.

relational database and non-relational database:
NoSql:
key-value store
document store
graph: database relation can be represented as a graph. liek social relations.
NoSql needs:
no fixed scheme
avoid joins

easy to scale
with humongous storage
big data and realtime web apps

example 
### design tinyURL:

requirements;
function:
- given a url generate a tinyURL
- access a url, access the long url.
- be able to pick a custom tinyURL
- expire after a time period
non-functional:
- highly available
- min latency

Estimation:
- generate url 
- access url 100 times more. read write ratio: 100:1
- 500M new URL per month, 5B access.
so read 20K/s. write 200/s.
- storage estimate for 5 years: 15TB
- bandwidth: write 100KB/s, read 10Mb/s.
- memory: cache 20%: 170GB

rest API:
createURL(api_dev_key,longurl,custom_alias,username,expire)
api_key is for the registered account using for limit the user access.
return: shorten url or error code.
deleteURL(api_dev_key,url_key)

Database:
url: database to map tinyURL vs the original URL.
schema: 
shorten usl： orginal url, createTime, expireTime,
user: name,email, registerTime,LastLogin (relational database)
user: (most system needs user information database or meta data)
a lot user use the services:
- how do you ensure concurrency.
- unique...
- key-value store.
sql vs nosql: nosql key-value store. (hashmap)

algorithm: base62 to shorten to a 6 char list. and put in hashmap.
approach 1: assign and ID and convert to string with 6 chars.
approach 2: calculate the hash using MD5 or SHA256. Using the hash as the id to get encode url.
for 6 chars, it supports up to 62^6 which is roughly 2^42 (SHA has 128 bits, so will cause key duplication)
- duplicate, we can choose the first several chars in the hash value
- or add seqID, or userID.
- or generate offline.
- used + unused hashtables, to avoid concurrency problem.

Partition:
range based partition: using the url first letter or hash value%somthing (unbalanced server)
hash based partition: 

Cache:
- calculate memory needed.
- cache policy: LRU
hit: return the memory value
miss: get from database and update the cache.

Load Balance:

### design pastebin (similar to tinyURL)
user store some text and get an url to access it
clear requirement:
- upload text and get an url.
- expire after a time.
reliable, highly available.
- max size of upload.

estimation:
traffic
storage
network bandwidth
memory

Rest API:
AddPaste:
input: api_key, paste_data, custom_url, user_name, paste_name,expire_date
return: url.
UpdatePaste(api_key, paste_key)
deletePaste(api_key, paste_key)
separate read and write.

Database:
meta data: relational database
text data: document store. each document object will have a hash value for it (tinyURL)
read heavy.

paste:
url hash: mini URL.
content key: key of the paste object.
expire time
create time

user: 
key generation (which is also used in TinyURL)


### design Instagram: social network service ***
amazon cloud: more likely.
similar: flickr, picaso.
image storage is crucial.
newsfeed.

functional:
- upload/download/view images
- search image
- follow others
- generate newsfeed.

non-functional:
highly available
fast for newsfeed
consistency
highly available.

estimation
separate read and write.

database:
meta data: photo, user, follows
can store it in relational database
distributed file storgage S3 or HDFS for images.

nosql: key value store, 

webserver has a max number of connections
upload is lengthy and will take the connection for a while
separate read and write.

replica: master/slave

sharding:
hot user.

### design dropbox
sync user folder and cloud storage
- store files in chunks
- transfer (supporting retransfer)
- transfer the difference
- snapshot
- a group of user to get notified when content is changed.

message queue for processing request and sendback ack.

### facebook messenger

one to one conversation
storage of conversation history
group chat

via the server: deliver confirmation

pull/push:
pull: client asks the server for new message: mostly there is no message.
push: server push message to client.
using http long polling or websocket
message ordering

database:
store small chat in buffer and dump to database until buffer full.

### design twitter: social network
post tweet
follow others
mark as favorite
timeline

### design youtube
upload view, comment, share...


### design typeahead suggestion
in memory data structure: trie.

find the top 10 prefix matches.
- store the frequency
- each node stores the top 10 refereces to the terminal.
- then post order to get the top 10 suggestions.

build: dfs to build the top 10.
update: update at a regular interval. (to avoid update every query)
map reduce
update: store the frequency changes in memory, when update trie, update the frequency and top 10 for each nodes.

store: serialization of the trie.

### API rate limit
to avoid abuse of service.

hard throttling
soft throttling
dynamic throttling

fixed sliding window
rolling window

hashtable user vs a list of requests in window

### tweet search

### web crawler
bfs/dfs



- webserver has connection limits: several hundreds
- separate read and write.
- Load Balance can be added at each layer: 
user-webserver, webserver-application server/cache server
health check
least connection method
least response time method
least bandwidth method
round robin
weighted round robin
IP hash

CDN: global cache.
write through cache, update both memory and disk.
write around: update disk skipping cache
write back: write to cache and later to disk.

FIFO, LIFO, LRU, MRU, LFU, random replacement.

sharding:
split big database into several machine.
horizontal partioning: different rows into different machine
bad: unbalanced db.
vertical partitioning: according to feature, for example, data on a machine, user on a machine, friend list on a machine.
bad: we may need to split one feature db.

directory based partition: use a lookup service to get the location.

key or hash-based partioning
list partitioning: for example using geomtrical information
round robin
composite partitioning

common problem of sharding:
the row is split in different machines.
join.
rebalance

database indexing:
the first thing to improve performance is indexing.

proxy:
proxy can act as a cache server, or intermediate to process requests.

consistent hash:
min reorganization when nodes added or removed. easy for scaling down or up.

consistent hash: add nodes, get some share from some servers, remove nodes: split the share to other.
using the machines as a ring.  if caches moved to its neighnoring, if miss in A, then we goes to B...

polling: the client keeps asking data from server, a lot of empty response.
long polling: if no data, the server hold the request.
websocket: persistent tcp/ip connection
SSE: server sent events: server send realtime data to client (such as video)























 
 
















